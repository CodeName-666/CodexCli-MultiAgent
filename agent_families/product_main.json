{
  "cli": {
    "description": "Multi-Agent Orchestrator fuer Product/Requirements Rollen."
  },
  "final_role_id": "product_integrator",
  "diff_safety": {
    "allowlist": [
      "agent_families/product_main.json",
      "agent_families/product_agents/*"
    ]
  },
  "roles": [
    {
      "id": "product_architect",
      "file": "product_agents/product_architect.json",
      "instances": 1,
      "depends_on": [],
      "expected_sections": [
        "# Product-Architektur",
        "- Ziele:",
        "- Zielgruppe/Personas:",
        "- Scope/Abgrenzung:",
        "- Erfolgsmetriken:",
        "- Risiken:",
        "- Plan (max 8 Schritte):"
      ],
      "timeout_sec": 1800,
      "max_prompt_chars": 16000,
      "cli_provider": "claude",
      "model": "sonnet",
      "cli_parameters": {
        "max_turns": 3,
        "allowed_tools": "Read,Glob,Grep"
      }
    },
    {
      "id": "requirements_writer",
      "file": "product_agents/requirements_writer.json",
      "instances": 1,
      "depends_on": [
        "product_architect"
      ],
      "expected_sections": [
        "# Anforderungen",
        "- User Stories/Use Cases:",
        "- Akzeptanzkriterien:",
        "- Nicht-Ziele:",
        "- Offene Punkte:"
      ],
      "cli_provider": "codex"
    },
    {
      "id": "acceptance_reviewer",
      "file": "product_agents/acceptance_reviewer.json",
      "instances": 1,
      "depends_on": [
        "requirements_writer"
      ],
      "expected_sections": [
        "# Review (Anforderungen)",
        "- Findings:",
        "- Risiko/Impact:",
        "- Empfohlene Anpassungen:"
      ],
      "cli_provider": "claude",
      "model": "opus",
      "cli_parameters": {
        "max_turns": 2,
        "append_system_prompt": "Fokus: Security, Performance, Maintainability"
      }
    },
    {
      "id": "product_integrator",
      "file": "product_agents/product_integrator.json",
      "instances": 1,
      "depends_on": [
        "product_architect",
        "requirements_writer",
        "acceptance_reviewer"
      ],
      "expected_sections": [
        "# Final",
        "- Zusammenfassung:",
        "- Naechste Schritte:"
      ],
      "cli_provider": "claude",
      "model": "haiku",
      "cli_parameters": {
        "max_turns": 1
      }
    }
  ]
}