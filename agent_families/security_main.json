{
  "cli": {
    "description": "Multi-Agent Orchestrator fuer Security/Compliance Rollen."
  },
  "final_role_id": "security_integrator",
  "diff_safety": {
    "allowlist": [
      "agent_families/security_main.json",
      "agent_families/security_agents/*"
    ]
  },
  "roles": [
    {
      "id": "threat_modeler",
      "file": "security_agents/threat_modeler.json",
      "instances": 1,
      "depends_on": [],
      "expected_sections": [
        "# Threat Model",
        "- Assets:",
        "- Entry Points:",
        "- Bedrohungen:",
        "- Mitigations:",
        "- Risiken:",
        "- Plan (max 8 Schritte):"
      ],
      "timeout_sec": 1800,
      "max_prompt_chars": 16000,
      "cli_provider": "codex"
    },
    {
      "id": "security_reviewer",
      "file": "security_agents/security_reviewer.json",
      "instances": 1,
      "depends_on": [
        "threat_modeler"
      ],
      "expected_sections": [
        "# Security-Review",
        "- Findings:",
        "- Risiko/Impact:",
        "- Empfohlene Fixes:"
      ],
      "cli_provider": "claude",
      "model": "opus",
      "cli_parameters": {
        "max_turns": 2,
        "append_system_prompt": "Fokus: Security, Performance, Maintainability"
      }
    },
    {
      "id": "compliance_checker",
      "file": "security_agents/compliance_checker.json",
      "instances": 1,
      "depends_on": [
        "security_reviewer"
      ],
      "expected_sections": [
        "# Compliance-Check",
        "- Anforderungen/Policies:",
        "- Abweichungen:",
        "- Empfohlene Anpassungen:"
      ],
      "cli_provider": "codex"
    },
    {
      "id": "security_fixer",
      "file": "security_agents/security_fixer.json",
      "instances": 1,
      "depends_on": [
        "compliance_checker"
      ],
      "expected_sections": [
        "# Security-Fixes",
        "- Dateien neu/aendern (Liste):",
        "- Entscheidungen:",
        "- Offene Punkte:",
        "```diff"
      ],
      "apply_diff": true,
      "timeout_sec": 900,
      "cli_provider": "codex"
    },
    {
      "id": "security_integrator",
      "file": "security_agents/security_integrator.json",
      "instances": 1,
      "depends_on": [
        "threat_modeler",
        "security_reviewer",
        "compliance_checker",
        "security_fixer"
      ],
      "expected_sections": [
        "# Final",
        "- Zusammenfassung:",
        "- Naechste Schritte:"
      ],
      "cli_provider": "claude",
      "model": "haiku",
      "cli_parameters": {
        "max_turns": 1
      }
    }
  ]
}