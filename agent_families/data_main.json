{
  "cli": {
    "description": "Multi-Agent Orchestrator fuer Data/ML Rollen."
  },
  "final_role_id": "data_integrator",
  "diff_safety": {
    "allowlist": [
      "agent_families/data_main.json",
      "agent_families/data_agents/*"
    ]
  },
  "roles": [
    {
      "id": "model_designer",
      "file": "data_agents/model_designer.json",
      "instances": 1,
      "depends_on": [],
      "expected_sections": [
        "# Model-Design",
        "- Ziel:",
        "- Features:",
        "- Modellwahl:",
        "- Risiken:",
        "- Plan (max 8 Schritte):"
      ],
      "timeout_sec": 1800,
      "max_prompt_chars": 16000,
      "cli_provider": "codex"
    },
    {
      "id": "data_engineer",
      "file": "data_agents/data_engineer.json",
      "instances": 1,
      "depends_on": [
        "model_designer"
      ],
      "expected_sections": [
        "# Data-Engineering",
        "- Pipelines/Quellen:",
        "- Transformationen:",
        "- Qualitaetschecks:",
        "- Offene Punkte:",
        "```diff"
      ],
      "apply_diff": true,
      "timeout_sec": 900,
      "cli_provider": "codex"
    },
    {
      "id": "evaluator",
      "file": "data_agents/evaluator.json",
      "instances": 1,
      "depends_on": [
        "data_engineer"
      ],
      "expected_sections": [
        "# Evaluation",
        "- Metriken:",
        "- Baselines:",
        "- Testset:",
        "- Offene Punkte:"
      ],
      "cli_provider": "codex"
    },
    {
      "id": "ml_reviewer",
      "file": "data_agents/ml_reviewer.json",
      "instances": 1,
      "depends_on": [
        "evaluator"
      ],
      "expected_sections": [
        "# ML-Review",
        "- Findings:",
        "- Risiko/Impact:",
        "- Empfohlene Aenderungen:"
      ],
      "cli_provider": "claude",
      "model": "opus",
      "cli_parameters": {
        "max_turns": 2,
        "append_system_prompt": "Fokus: Security, Performance, Maintainability"
      }
    },
    {
      "id": "data_integrator",
      "file": "data_agents/data_integrator.json",
      "instances": 1,
      "depends_on": [
        "model_designer",
        "data_engineer",
        "evaluator",
        "ml_reviewer"
      ],
      "expected_sections": [
        "# Final",
        "- Zusammenfassung:",
        "- Naechste Schritte:"
      ],
      "cli_provider": "claude",
      "model": "haiku",
      "cli_parameters": {
        "max_turns": 1
      }
    }
  ]
}