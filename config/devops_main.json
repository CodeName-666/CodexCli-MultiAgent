{
  "cli": {
    "description": "Multi-Agent Orchestrator fuer DevOps/Platform Rollen."
  },
  "final_role_id": "devops_integrator",
  "diff_safety": {
    "allowlist": [
      "config/devops_main.json",
      "config/devops_roles/*"
    ]
  },
  "roles": [
    {
      "id": "infra_architect",
      "file": "devops_roles/infra_architect.json",
      "instances": 1,
      "depends_on": [],
      "expected_sections": [
        "# Infrastruktur-Architektur",
        "- Ziele:",
        "- Komponenten:",
        "- Deployment-Topologie:",
        "- Observability:",
        "- Risiken:",
        "- Plan (max 8 Schritte):"
      ],
      "timeout_sec": 1800,
      "max_prompt_chars": 16000
    },
    {
      "id": "pipeline_implementer",
      "file": "devops_roles/pipeline_implementer.json",
      "instances": 1,
      "depends_on": [
        "infra_architect"
      ],
      "expected_sections": [
        "# Pipeline-Implementierung",
        "- Dateien neu/aendern (Liste):",
        "- Entscheidungen:",
        "- Offene Punkte:",
        "```diff"
      ],
      "apply_diff": true,
      "timeout_sec": 900
    },
    {
      "id": "release_manager",
      "file": "devops_roles/release_manager.json",
      "instances": 1,
      "depends_on": [
        "pipeline_implementer"
      ],
      "expected_sections": [
        "# Release-Plan",
        "- Rollout-Strategie:",
        "- Checks/Gates:",
        "- Rollback:",
        "- Offene Punkte:"
      ]
    },
    {
      "id": "reliability_reviewer",
      "file": "devops_roles/reliability_reviewer.json",
      "instances": 1,
      "depends_on": [
        "release_manager"
      ],
      "expected_sections": [
        "# Reliability-Review",
        "- Findings:",
        "- Risiko/Impact:",
        "- Empfohlene Aenderungen:"
      ]
    },
    {
      "id": "devops_integrator",
      "file": "devops_roles/devops_integrator.json",
      "instances": 1,
      "depends_on": [
        "infra_architect",
        "pipeline_implementer",
        "release_manager",
        "reliability_reviewer"
      ],
      "expected_sections": [
        "# Final",
        "- Zusammenfassung:",
        "- Naechste Schritte:"
      ]
    }
  ]
}
